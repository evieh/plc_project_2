#+TITLE: Lang Doc

* Tokens
| token          | meaning   |
|----------------+-----------|
| [a-z][a-z0-9]* | TupLabel  |
| [0-9]+         | TupInt    |
| #              | TupNull   |
| =              | TupEquals |
| !              | TupExclam |
| ,              | TupComma  |
| (              | TupLParen |
| )              | TupRParen |
| (pipe)         | TupGuard  |
| $eol           | TupEndl   |

* Productions

| name        | token series                        | haskell call              |
|-------------+-------------------------------------+---------------------------|
| Prog        | FuncDec '\n' '!' '\n' Prog          | $1 : $5                   |
| Prog        | FuncTest                            | [$1]                      |
| Prog        |                                     | [ ]                       |
| Pattern     | '(' VarTupInner ')'                 | $2                        |
| Pattern     | ...                                 |                           |
| PatternList | Pattern PatternList                 | $1 : $2                   |
| PatternList | Pattern                             | [$1]                      |
| PatternList |                                     | [ ]                       |
| FuncDecLine | id PatternList (pipe) Expr '=' Expr | FuncDecLine $1 $2 $3 $4   |
| FuncDecLine | id PatternList '=' Expr             | FuncDecLine $1 $2 Null $4 |
| FuncDec     |                                     |                           |
| FuncTest    | Expr '=' Expr                       |                           |
| VarTupInner | id ',' VarTupInner                  | $1 : $3                   |
| VarTupInner | id                                  | [$1]                      |
| VarTupInner |                                     | [ ]                       |
| FuncDec     |                                     |                           |


* Notes

-- Whitespace insensitive
$eol                          ;
$white+                       ;

-- Comments
"--".*                         ;
